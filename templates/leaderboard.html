<!-- Connects leaderboard.html to base.html -->
{% extends "base.html" %}

<!-- Changes page title -->
{% block title %}Leaderboard | TrackPack{% endblock %}

<!-- Picks up where base.html left off -->
{% block content %}
<h1 class="center">Student Leaderboard</h1>
<h2 class="center">View current student rankings, past leaderboards and archive current student leaderboard.</h2>
<div class="center">
    <table class="center_div">

        <colgroup>
            <col span="1" style="width: 15%">
            <col span="1" style="width: 35%">
            <col span="1" style="width: 20%">
            <col span="4" style="width: 10%">
        </colgroup>

        <tr>
            <th>Position</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Grade Level</th>
            <th>Events Attended</th>
            <th>Points</th>
            <th>Winner</th>
        </tr>

        {% for student in users_data %}

        <tr>
            <td class="center">{{ loop.index }}</td>
            <td>{{ student['first_name'] }}</td>
            <td>{{ student['last_name'] }}</td>
            <td class="center">{{ student['grade_level'] }}</td>
            <td class="center">{{ student['num_attended'] }}</td>
            <td class="center">{{ student['points'] }}</td>
            <td class="center">{{ student.get('winner', "") }}</td>
        </tr>

        {% endfor %}

    </table>
</div>

<div class="center">
<form name="archive" method="post">

    <input type="submit" name="btn" value="Archive Current Quarter">

</form>

<form name="qy_form" method="post">

    <select id="select_qy" name="select_qy">
        {% for item in qy_list %}
            <option value="{{ item[1] }}">{{ item[0] }}</option>
        {% endfor %}
    </select>

    <input type="submit" name="btn" value="Select">

</form>
</div>

{% endblock %}